# ====================================
# AI Playground - Docker Compose Configuration
# Environment: Docker Production
# ====================================

# -------------------- Docker Compose --------------------
COMPOSE_PROJECT_NAME=ai-playground-prod

# -------------------- PostgreSQL --------------------
# IMPORTANT: Use strong passwords in production
POSTGRES_USER=ai_playground_prod
POSTGRES_PASSWORD=CHANGE_THIS_STRONG_PASSWORD_MIN_32_CHARACTERS
POSTGRES_DB=ai_playground_prod
POSTGRES_PORT=5432
POSTGRES_HOST=postgres

# -------------------- Redis --------------------
REDIS_PORT=6379
REDIS_HOST=redis
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD

# -------------------- Backend --------------------
BACKEND_PORT=8000
BACKEND_HOST=backend
BACKEND_WORKERS=8

# Backend environment variables
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0

API_V1_PREFIX=/api/v1
SECRET_KEY=REPLACE_WITH_STRONG_SECRET_KEY_64_CHARACTERS_MINIMUM
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15

UPLOAD_DIR=/app/uploads
MAX_UPLOAD_SIZE=524288000

CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/0

ENVIRONMENT=production
DEBUG=False
LOG_LEVEL=WARNING

CORS_ORIGINS=https://your-production-domain.com,https://www.your-production-domain.com

RATE_LIMIT_PER_MINUTE=60
ENABLE_RATE_LIMITING=True

# -------------------- Frontend --------------------
FRONTEND_PORT=80
FRONTEND_HOST=frontend

# Frontend environment variables
VITE_API_URL=https://api.your-production-domain.com
VITE_WS_URL=wss://api.your-production-domain.com/ws
VITE_API_TIMEOUT=60000
VITE_ENV=production
VITE_DEBUG=false

# -------------------- Celery Worker --------------------
CELERY_WORKER_CONCURRENCY=8
CELERY_WORKER_LOGLEVEL=WARNING

# -------------------- Monitoring --------------------
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
ENABLE_METRICS=True

# -------------------- Network --------------------
NETWORK_NAME=ai-playground-prod-network

# -------------------- Resource Limits --------------------
POSTGRES_MEM_LIMIT=2g
POSTGRES_CPU_LIMIT=2
REDIS_MEM_LIMIT=1g
REDIS_CPU_LIMIT=1
BACKEND_MEM_LIMIT=4g
BACKEND_CPU_LIMIT=4
CELERY_MEM_LIMIT=4g
CELERY_CPU_LIMIT=4
FRONTEND_MEM_LIMIT=1g
FRONTEND_CPU_LIMIT=2

# -------------------- Health Check --------------------
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=5

# -------------------- Backup --------------------
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# -------------------- SSL/TLS --------------------
SSL_CERT_PATH=/etc/ssl/certs/fullchain.pem
SSL_KEY_PATH=/etc/ssl/private/privkey.pem
