# ====================================
# AI Playground - Docker Compose Configuration
# Environment: Docker Development
# ====================================

# -------------------- Docker Compose --------------------
COMPOSE_PROJECT_NAME=ai-playground

# -------------------- PostgreSQL --------------------
POSTGRES_USER=ai_playground_user
POSTGRES_PASSWORD=ai_playground_dev_password_change_in_production
POSTGRES_DB=ai_playground_db
POSTGRES_PORT=5432
POSTGRES_HOST=postgres

# -------------------- Redis --------------------
REDIS_PORT=6379
REDIS_HOST=redis
REDIS_PASSWORD=

# -------------------- Backend --------------------
BACKEND_PORT=8000
BACKEND_HOST=backend
BACKEND_WORKERS=4

# Backend environment variables
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/0

API_V1_PREFIX=/api/v1
SECRET_KEY=docker-dev-secret-key-change-for-production-min-32-chars
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

UPLOAD_DIR=/app/uploads
MAX_UPLOAD_SIZE=104857600

CELERY_BROKER_URL=redis://${REDIS_HOST}:${REDIS_PORT}/0
CELERY_RESULT_BACKEND=redis://${REDIS_HOST}:${REDIS_PORT}/0

ENVIRONMENT=development
DEBUG=True
LOG_LEVEL=INFO

CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:80

# -------------------- Frontend --------------------
FRONTEND_PORT=80
FRONTEND_HOST=frontend

# Frontend environment variables
VITE_API_URL=http://localhost:8000
VITE_WS_URL=ws://localhost:8000/ws
VITE_API_TIMEOUT=30000
VITE_ENV=development

# -------------------- Celery Worker --------------------
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_LOGLEVEL=INFO

# -------------------- Volumes --------------------
# Host paths for volume mounts (optional, uses Docker volumes by default)
# POSTGRES_DATA_PATH=./docker/postgres/data
# REDIS_DATA_PATH=./docker/redis/data
# BACKEND_UPLOADS_PATH=./uploads
# BACKEND_LOGS_PATH=./logs

# -------------------- Network --------------------
NETWORK_NAME=ai-playground-network

# -------------------- Resource Limits (Optional) --------------------
# Uncomment to set resource limits
# POSTGRES_MEM_LIMIT=1g
# REDIS_MEM_LIMIT=512m
# BACKEND_MEM_LIMIT=2g
# CELERY_MEM_LIMIT=2g
# FRONTEND_MEM_LIMIT=512m

# -------------------- Health Check --------------------
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
